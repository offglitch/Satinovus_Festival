!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DrifterStars2=t():e.DrifterStars2=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){function n(e){if(g=b.merge(m,e),!g.canvas)throw new Error("canvas is mandatory!");w=g.canvas,I=2*Math.PI/g.noiseLength,p=w.getContext("2d");var t,i;for(window.addEventListener("resize",h,!0),h(),y=window.requestAnimationFrame(r),M.x=w.clientWidth/2,M.y=w.clientHeight/2,t=0;t<g.particleCount;t++){var n=new O;E.push(n),P.push([n.x*g.pointsMultiplier,n.y*g.pointsMultiplier])}A=x.triangulate(P);var s=[];for(t=0;t<A.length;t++)3==s.length&&(L.push(s),s=[]),s.push(A[t]);for(t=0;t<E.length;t++)for(i=0;i<L.length;i++)-1!==L[i].indexOf(t)&&L[i].forEach(function(e,i,n){e!==t&&-1==E[t].neighbors.indexOf(e)&&E[t].neighbors.push(e)});if(g.renderFlares)for(t=0;t<g.flareCount;t++)F.push(new j)}function r(){y=window.requestAnimationFrame(r),p.clearRect(0,0,v,k),s()}function s(){if(g.randomMotion&&(S++,S>=g.noiseLength&&(S=0),z=o(S)),g.renderParticles)for(var e=0;e<g.particleCount;e++)E[e].render();if(g.renderLinks){if(c(0,g.linkChance)===g.linkChance){var t=c(g.linkLengthMin,g.linkLengthMax);l(c(0,E.length-1),t)}for(var i=N.length-1;i>=0;i--)N[i]&&!N[i].finished?N[i].render():delete N[i]}if(g.renderFlares)for(var n=0;n<g.flareCount;n++)F[n].render()}function h(){var e=w.getBoundingClientRect();v=e.width,k=e.height,w.width=v,w.height=k,p=w.getContext("2d")}function l(e,t){N.push(new T(e,t))}function o(e){var t=I*e,i=Math.cos(t),n=Math.sin(t),r=C;return{x:r*i,y:r*n}}function a(e,t,i){return{x:e*w.width+(w.width/2-M.x+(z.x-.5)*g.noiseStrength)*i*g.motion,y:t*w.height+(w.height/2-M.y+(z.y-.5)*g.noiseStrength)*i*g.motion}}function f(){return w.width>=w.height?w.width:w.height}function c(e,t,i){return i?Math.random()*(t-e)+e:Math.floor(Math.random()*(t-e+1))+e}function u(e){g.flareColor=e}function d(e){g.renderLinks=e}var g,p,v,k,y,x=i(1),b=i(2),m=i(3),w=null,M={x:0,y:0},S=0,I=2*Math.PI/1e3,C=17,z={x:0,y:0},P=[],A=[],L=[],N=[],E=[],F=[],O=function(){this.x=c(-.1,1.1,!0),this.y=c(-.1,1.1,!0),this.z=c(0,4),this.opacity=c(.1,1,!0),this.flicker=0,this.neighbors=[]};O.prototype.render=function(){var e=a(this.x,this.y,this.z),t=(this.z*g.particleSizeMultiplier+g.particleSizeBase)*(f()/1e3),i=this.opacity;if(g.flicker){var n=c(-.5,.5,!0);this.flicker+=(n-this.flicker)/g.flickerSmoothing,this.flicker>.5&&(this.flicker=.5),this.flicker<-.5&&(this.flicker=-.5),i+=this.flicker,i>1&&(i=1),i<0&&(i=0)}p.fillStyle=g.particleColor,p.globalAlpha=i,p.beginPath(),p.arc(e.x,e.y,t,0,2*Math.PI,!1),p.fill(),p.closePath(),p.globalAlpha=1};var j=function(){this.x=c(-.25,1.25,!0),this.y=c(-.25,1.25,!0),this.z=c(0,2),this.opacity=c(.01,.05,!0)};j.prototype.render=function(){var e=a(this.x,this.y,this.z),t=(this.z*g.flareSizeMultiplier+g.flareSizeBase)*(f()/1e3);p.beginPath(),p.globalAlpha=this.opacity,p.arc(e.x,e.y,t,0,2*Math.PI,!1),p.fillStyle=g.flareColor,p.fill(),p.closePath(),p.globalAlpha=1};var T=function(e,t){this.length=t,this.verts=[e],this.stage=0,this.linked=[e],this.distances=[],this.traveled=0,this.fade=0,this.finished=!1};T.prototype.render=function(){var e,t,i,n;switch(this.stage){case 0:var r=E[this.verts[this.verts.length-1]];if(r&&r.neighbors&&r.neighbors.length>0){var s=r.neighbors[c(0,r.neighbors.length-1)];-1==this.verts.indexOf(s)&&this.verts.push(s)}else this.stage=3,this.finished=!0;if(this.verts.length>=this.length){for(e=0;e<this.verts.length-1;e++){var h=E[this.verts[e]],l=E[this.verts[e+1]],o=h.x-l.x,f=h.y-l.y,u=Math.sqrt(o*o+f*f);this.distances.push(u)}this.stage=1}break;case 1:if(this.distances.length>0){for(n=[],e=0;e<this.linked.length;e++)t=E[this.linked[e]],i=a(t.x,t.y,t.z),n.push([i.x,i.y]);var d=1e-5*g.linkSpeed*w.width;this.traveled+=d;var p=this.distances[this.linked.length-1];if(this.traveled>=p)this.traveled=0,this.linked.push(this.verts[this.linked.length]),t=E[this.linked[this.linked.length-1]],i=a(t.x,t.y,t.z),n.push([i.x,i.y]),this.linked.length>=this.verts.length&&(this.stage=2);else{var v=E[this.linked[this.linked.length-1]],k=E[this.verts[this.linked.length]],y=p-this.traveled;i=a((this.traveled*k.x+y*v.x)/p,(this.traveled*k.y+y*v.y)/p,(this.traveled*k.z+y*v.z)/p),n.push([i.x,i.y])}this.drawLine(n)}else this.stage=3,this.finished=!0;break;case 2:if(this.verts.length>1)if(this.fade<g.linkFade){this.fade++,n=[];var x=(1-this.fade/g.linkFade)*g.linkOpacity;for(e=0;e<this.verts.length;e++)t=E[this.verts[e]],i=a(t.x,t.y,t.z),n.push([i.x,i.y]);this.drawLine(n,x)}else this.stage=3,this.finished=!0;else this.stage=3,this.finished=!0;break;case 3:default:this.finished=!0}},T.prototype.drawLine=function(e,t){if("number"!=typeof t&&(t=g.linkOpacity),e.length>1&&t>0){p.globalAlpha=t,p.beginPath();for(var i=0;i<e.length-1;i++)p.moveTo(e[i][0],e[i][1]),p.lineTo(e[i+1][0],e[i+1][1]);p.strokeStyle=g.linkColor,p.lineWidth=g.lineWidth,p.stroke(),p.closePath(),p.globalAlpha=1}},e.exports={init:n,setFlareColor:u,setEnableLinks:d}},function(e,t,i){var n;!function(){"use strict";function t(e){var t,i,n,r,s,h,l=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY;for(t=e.length;t--;)e[t][0]<l&&(l=e[t][0]),e[t][0]>a&&(a=e[t][0]),e[t][1]<o&&(o=e[t][1]),e[t][1]>f&&(f=e[t][1]);return i=a-l,n=f-o,r=Math.max(i,n),s=l+.5*i,h=o+.5*n,[[s-20*r,h-r],[s,h+20*r],[s+20*r,h-r]]}function i(e,t,i,n){var r,h,l,o,a,f,c,u,d,g,p=e[t][0],v=e[t][1],k=e[i][0],y=e[i][1],x=e[n][0],b=e[n][1],m=Math.abs(v-y),w=Math.abs(y-b);if(m<s&&w<s)throw new Error("Eek! Coincident points!");return m<s?(o=-(x-k)/(b-y),f=(k+x)/2,u=(y+b)/2,r=(k+p)/2,h=o*(r-f)+u):w<s?(l=-(k-p)/(y-v),a=(p+k)/2,c=(v+y)/2,r=(x+k)/2,h=l*(r-a)+c):(l=-(k-p)/(y-v),o=-(x-k)/(b-y),a=(p+k)/2,f=(k+x)/2,c=(v+y)/2,u=(y+b)/2,r=(l*a-o*f+u-c)/(l-o),h=m>w?l*(r-a)+c:o*(r-f)+u),d=k-r,g=y-h,{i:t,j:i,k:n,x:r,y:h,r:d*d+g*g}}function r(e){var t,i,n,r,s,h;for(i=e.length;i;)for(r=e[--i],n=e[--i],t=i;t;)if(h=e[--t],s=e[--t],n===s&&r===h||n===h&&r===s){e.splice(i,2),e.splice(t,2);break}}var s=1/1048576;n={triangulate:function(e,n){var h,l,o,a,f,c,u,d,g,p,v,k,y=e.length;if(y<3)return[];if(e=e.slice(0),n)for(h=y;h--;)e[h]=e[h][n];for(o=new Array(y),h=y;h--;)o[h]=h;for(o.sort(function(t,i){return e[i][0]-e[t][0]}),a=t(e),e.push(a[0],a[1],a[2]),f=[i(e,y+0,y+1,y+2)],c=[],u=[],h=o.length;h--;u.length=0){for(k=o[h],l=f.length;l--;)d=e[k][0]-f[l].x,d>0&&d*d>f[l].r?(c.push(f[l]),f.splice(l,1)):(g=e[k][1]-f[l].y,d*d+g*g-f[l].r>s||(u.push(f[l].i,f[l].j,f[l].j,f[l].k,f[l].k,f[l].i),f.splice(l,1)));for(r(u),l=u.length;l;)v=u[--l],p=u[--l],f.push(i(e,p,v,k))}for(h=f.length;h--;)c.push(f[h]);for(f.length=0,h=c.length;h--;)c[h].i<y&&c[h].j<y&&c[h].k<y&&f.push(c[h].i,c[h].j,c[h].k);return f},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var i=e[1][0]-e[0][0],n=e[2][0]-e[0][0],r=e[1][1]-e[0][1],s=e[2][1]-e[0][1],h=i*s-n*r;if(0===h)return null;var l=(s*(t[0]-e[0][0])-n*(t[1]-e[0][1]))/h,o=(i*(t[1]-e[0][1])-r*(t[0]-e[0][0]))/h;return l<0||o<0||l+o>1?null:[l,o]}},e.exports=n}()},function(e,t){var i={}.constructor,n=function(e){return!(!e||e.constructor!==i)};t.isJSON=n;var r=function(e,t){var i=null;if(n(t)){if(i={},n(e))for(var s in e)i[s]=e[s];for(var s in t)"object"==typeof i[s]&&"object"==typeof t?i[s]=r(i[s],t[s]):i[s]=t[s]}else if(Array.isArray(e)&&Array.isArray(t)){i=e;for(var h=0;h<t.length;h++)-1===i.indexOf(t[h])&&(i[i.length]=t[h])}else i=t;return i};t.merge=r},function(e,t){var i={canvas:null,particleCount:32,flareCount:32,motion:.05,particleColor:"#FDE8E1",flareColor:"#757575",linkColor:"white",particleSizeBase:1,particleSizeMultiplier:.5,flareSizeBase:100,flareSizeMultiplier:100,lineWidth:2,linkChance:100,linkLengthMin:3,linkLengthMax:5,linkOpacity:.3,linkFade:28,linkSpeed:4,renderParticles:!0,renderFlares:!0,renderLinks:!1,flicker:!0,flickerSmoothing:12,randomMotion:!0,noiseLength:1e3,noiseStrength:4,pointsMultiplier:1e3};e.exports=i}])});